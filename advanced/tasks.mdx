---
title: "Automation Tasks"
description: "Create, manage, and execute reusable browser automation tasks"
icon: "code"
---

## Overview

The Tasks API enables you to **create, version, and execute reusable browser automation code** in your Anchor Browser sessions. Tasks allow you to:

- **Write once, run anywhere**: Create reusable automation scripts that can be executed across multiple sessions
- **Execution tracking**: Monitor task execution history, performance, and results
- **Input**: Pass dynamic inputs to your tasks for flexible execution
- **Output**: Return exactly what you need: status, messages, and domain data tailored to your use case.

<Info>
Tasks are executed in a secure sandbox environment and can access the full Anchor Browser API for automation capabilities.
</Info>

## Creating Your First Task

## Writing Task Code

For reliable execution, **follow these guidelines:**
 - Write your **code in TypeScript.**
 - **Export** a single **default async function.**
 - In that function, **return** whatever your workflow requires as **output** (e.g., status, messages, domain data).

<Info>
Tasks can receive values as inputs. **All input names must be prefixed with `ANCHOR_`**
</Info>

### Basic Task Example

<CodeGroup>
```typescript typescript
import AnchorClient from 'anchorbrowser';

// Initialize the Anchor client with your API key
const anchorClient = new AnchorClient({
    apiKey: process.env.ANCHOR_API_KEY,
});

// Export the main function as the default export
export default async function run() {

    // Create a new browser instance
    const browser = await anchorClient.browser.create();
    const page = browser.contexts()[0].pages()[0];

    // Access input values
    const targetUrl = process.env.ANCHOR_TARGET_URL;
    const maxPages = parseInt(process.env.ANCHOR_MAX_PAGES || '10');

    // Implement your automation logic
    await page.goto(targetUrl);
    console.log(`Scraping up to ${maxPages} pages from ${targetUrl}`);

    // Always close the browser when done
    await browser.close();

    // Return a result object with success status and message
    return {
        success: true,
        message: 'Task completed successfully'
    };
}
```
</CodeGroup>

### Using the SDKs

Create your task in Anchor:
<Steps>
<Step title="Save your typescript code as a .ts file">
<Warning>
Make sure it follows the guidelines from above.
</Warning>
</Step>
<Step title="Get the base64 version of the file">
Run the script to show your base64 file version
```bash terminal
# Convert your TypeScript file to base64
base64 -i your-task.ts
```

Copy the output for later.
</Step>
<Step title="Create your Task in Anchor" >
<CodeGroup>
```typescript Node.js
import Anchorbrowser from 'anchorbrowser';

const client = new Anchorbrowser({
  apiKey: process.env.ANCHORBROWSER_API_KEY,
});

// Create a new task
const task = await client.task.create({
  name: 'example-task',
  language: 'typescript',
  description: 'A task to scrape product information from e-commerce sites',
  code: "<base64-string>" // Replace with the output of the last step.
});

const taskId = task.data.id
console.log('Task created:', taskId);
```

```python Python
import os
from anchorbrowser import Anchorbrowser

client = Anchorbrowser(
    api_key=os.environ.get("ANCHORBROWSER_API_KEY")
)

# Create a new task
task = client.task.create(
    name="example-task",
    language="typescript",
    description="A task to scrape product information from e-commerce sites",
    code="<base64-string>" # Replace with the output of the last step.
)

# Save the id for later
task_id = task.data.id
print(f"Task created: {task_id}")
```
</CodeGroup>
</Step>
<Step title="Running Tasks">
<CodeGroup>
```typescript Node.js
// Run the task with inputs
const execution = await client.task.run({
  taskId: taskId,
  version: 'draft',
  inputs: {
    ANCHOR_TARGET_URL: 'https://example.com',
    ANCHOR_MAX_PAGES: '10'
  }
});

console.log('Task execution started:', execution.data);
```

```python Python
# Run the task with inputs
execution = client.task.run(
    task_id=task_id,
    version="draft",
    inputs={
        "ANCHOR_TARGET_URL": "https://example.com",
        "ANCHOR_MAX_PAGES": "10"
    }
)

print(f"Task execution started: {execution.data}")
```
</CodeGroup>
</Step>
</Steps>
## Support

For additional help with the Tasks API:

- Check the [API Reference](/api-reference/browser-sessions/start-browser-session/) for detailed tasks endpoint documentation
- Contact Anchor Browser support at support@anchorbrowser.io
