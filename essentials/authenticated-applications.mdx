---
title: 'Authenticated Applications (Early Availability)'
description: 'Define target websites, configure supported login methods (auth flows), let end-users authenticate via an [Embeddable UI](/essentials/embedding-identity-ui), and create pre-authenticated browser sessions to those websites.'
icon: 'id-card'
---

<Warning>
  This feature is currently in **Early Availability**. Contact [**support**](mailto:support@anchorbrowser.io) to enable this feature.
</Warning>
## Quick Start
<Steps>
<Step title='Create an Application'>
<CodeGroup>
```javascript node.js
import Anchorbrowser from 'anchorbrowser';

const anchorClient = new Anchorbrowser();

// Create an application for a target website
const app = await anchorClient.applications.create({
  name: 'My LinkedIn User',
  source: 'linkedin.com'
});

console.log(app.id);
```

```python python
from anchorbrowser import Anchorbrowser

anchor_client = Anchorbrowser()

# Create an application for a target website
app = anchor_client.applications.create(
    name="My LinkedIn User",
    source="linkedin.com"
)

print(app.id)
```

```bash cURL
curl -X POST "https://api.anchorbrowser.io/v1/applications" \
  -H "anchor-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"name": "My LinkedIn User", "source": "linkedin.com"}'
```
</CodeGroup>
</Step>

<Step title='Configure Auth Flow for the Application'>
Applications support multiple authentication flows: `username_password`, `authenticator`, and `custom`.
<CodeGroup>
```javascript node.js
await anchorClient.applications.authFlows.create(app.id, {
  name: 'Email Login with authenticator',
  methods: ['username_password', 'authenticator']
});
```

```python python
anchor_client.applications.auth_flows.create(
    application_id=app.id,
    name="Email Login with authenticator",
    methods=["username_password", "authenticator"]
)
```

```bash cURL
curl -X POST "https://api.anchorbrowser.io/v1/applications/{app_id}/auth-flows" \
  -H "anchor-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"name": "Email Login with authenticator", "methods": ["username_password", "authenticator"]}'
```
</CodeGroup>
</Step>
<Step title='Create Identity'>
Create an identity with credentials for the application.
<CodeGroup>
```javascript node.js
const identity = await anchorClient.identities.create({
  source: 'https://linkedin.com',
  name: 'John Doe',
  credentials: [{
    type: 'username_password',
    username: 'john@example.com',
    password: 'secret'
  }]
});

console.log(identity.id);
```

```python python
identity = anchor_client.identities.create(
    source="https://linkedin.com",
    name="John Doe",
    credentials=[{
        "type": "username_password",
        "username": "john@example.com",
        "password": "secret"
    }]
)

print(identity.id)
```

```bash cURL
curl -X POST "https://api.anchorbrowser.io/v1/identities" \
  -H "anchor-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "https://linkedin.com",
    "name": "John Doe",
    "credentials": [{
      "type": "username_password",
      "username": "john@example.com",
      "password": "secret"
    }]
  }'
```
</CodeGroup>

<Tip>
  For end-user self-service authentication, use the [Embeddable Identity UI](/essentials/embedding-identity-ui).
</Tip>
</Step>
<Step title='Create Authenticated Sessions'>
Use the identity ID to create an authenticated browser session.

<CodeGroup>
```javascript node.js
import Anchorbrowser from 'anchorbrowser';

const anchorClient = new Anchorbrowser();
const identityId = "your-identity-id";
const session = await anchorClient.sessions.create({
    // Recommended settings for authenticated sessions.
    session: {
        proxy: {
            active: true,
        }
    },
    browser: {
        captcha_solver: {
            active: true,
        },
        extra_stealth: {
            active: true,
        }
    },

    // Identity to authenticate with.
    identities: [{ id: identityId }]
});

console.log(session.data.id);
```

```python python
from anchorbrowser import Anchorbrowser

anchor_client = Anchorbrowser()
identity_id = "your-identity-id"
session = anchor_client.sessions.create(
    # Recommended settings for authenticated sessions.
    session={
        "proxy": {
            "active": True,
        }
    },
    browser={
        "captcha_solver": {
            "active": True,
        },
        "extra_stealth": {
            "active": True,
        }
    },

    # Identity to authenticate with.
    identities=[{"id": identity_id}]
)

print(session.data.id)
```
</CodeGroup>
</Step>
</Steps>

## Identity Metadata

You can add custom metadata to identities for filtering and organization. Metadata is a flexible key-value store that allows you to tag identities with custom attributes.

### Creating an Identity with Metadata

<CodeGroup>
```javascript node.js
const identity = await anchorClient.identities.create({
  source: 'https://linkedin.com',
  name: 'John Doe',
  metadata: {
    department: 'Engineering',
    role: 'admin'
  },
  credentials: [{
    type: 'username_password',
    username: 'john@example.com',
    password: 'secret'
  }]
});
```

```python python
identity = anchor_client.identities.create(
    source="https://linkedin.com",
    name="John Doe",
    metadata={
        "department": "Engineering",
        "role": "admin"
    },
    credentials=[{
        "type": "username_password",
        "username": "john@example.com",
        "password": "secret"
    }]
)
```

```bash cURL
curl -X POST "https://api.anchorbrowser.io/v1/identities" \
  -H "anchor-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "source": "https://linkedin.com",
    "name": "John Doe",
    "metadata": {
      "department": "Engineering",
      "role": "admin"
    },
    "credentials": [{
      "type": "username_password",
      "username": "john@example.com",
      "password": "secret"
    }]
  }'
```
</CodeGroup>

### Filtering Identities by Metadata

You can filter identities by metadata when listing them for an application:

<CodeGroup>
```javascript node.js
const identities = await anchorClient.applications.listIdentities(app.id, {
  metadata: JSON.stringify({ department: 'Engineering' })
});
```

```python python
identities = anchor_client.applications.list_identities(
    application_id="4d0cfce6-cf86-43eb-9955-1332941dbbb6",
    metadata=json.dumps({"department": "Engineering"})
)
```

```bash cURL
curl -G "https://api.anchorbrowser.io/v1/applications/{app_id}/identities" \
  --data-urlencode 'metadata={"department":"Engineering"}' \
  -H "anchor-api-key: YOUR_API_KEY"
```
</CodeGroup>

## Related

<CardGroup cols={3}>
  <Card title="Embedding End-User Authentication UI" icon="window" href="/essentials/embedding-identity-ui">
    Embed the authentication flow in your app
  </Card>
  <Card title="Browser Profiles" icon="fingerprint" href="/essentials/authentication-and-identity">
    Alternative approach using browser profiles
  </Card>
  <Card title="API Reference" icon="code" href="/api-reference/applications-early-availability/">
    Applications and Identities endpoints
  </Card>
</CardGroup>

